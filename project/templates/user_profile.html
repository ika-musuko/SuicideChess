 <html> 
  <body>
      <div class = "content" style="font-family: Helvetica, sans-serif">
        <h2 class="profile-title">{{ user["displayName"] }}'s Profile</h2>
          <div class="info-container">
              <div class = "user-info">
               <h2>User Information</h2>
                  <p><strong>Player ID: </strong>{{ user_id }}</p>
                  <p><strong>Joined on: </strong>{{ user["joinedOn"] }}</p>
                  <p><strong>Last here: </strong>{{ user["lastHere"] }}</p> <br>

                  <p><strong>Bio: </strong></p>
                  <div class="bio-area"><p>{{ user["bio"] }}</p></div> <br>
                    {% if current_user.id == user_id %}
                  <a href="{{ url_for('edit_profile') }}" class="button">Edit Profile </a> <br> <br>
                  {% endif %}
              </div>
              <div class="stats">
                  <h2>Player Statistics</h2>
                      <p><strong>Wins:</strong> {{ user["wins"] }}</p>
                      <p><strong>Losses:</strong> {{ user["losses"] }}</p>
                      <p><strong>Draws:</strong> {{ user["draws"] }}</p> <br>
                  <div id="stats-chart"></div>
              </div>
          </div>
          <div class="game-histories">
              <h3>Game History</h3>
              <p>{% set game_histories = user["gameHistories"] %}</p>
    {% if game_histories %}
        <ul class="gameHistories">
        {% for room_id, game_history in game_histories.items() %}
            <li class="gameHistoryItem"><b>{{ room_id }}</b>

                <ul class="gameHistory">
                    <li class="winner">Winner: {% if game_history["winner"] == "$DUMMY" %} <i>Draw</i> {% else %}{{ player_manager.get_display_name(game_history["winner"]) }} {% endif %}</li>
                    <li class="timeFinished">Time finished: {{ game_history["timeFinished"] }}</li>
                </ul>
            </li>
        {% endfor %}
        </ul>
    {% endif %}
          </div>
      </div>
  <script>

      new PieChart({
          container: document.getElementById("stats-chart"),
          data: [{
            value: {{ user["wins"] }},
            col: "#008800",
            legend: "20 units"
          }, {
            value: {{ user["losses"] }},
            col: "#990000",
            legend: "25 units"
          }, {
            value: {{ user["draws"] }},
            col: "#aaaaaa",
            legend: "30 units",
          }]
        });
  </script>

  </body>
</html>
